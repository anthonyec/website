function $(e){return this.el=document.querySelectorAll(e),this.el}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")}function each(e,t){for(i=0;i<e.length;i++)t(e[i],i)}function addEventListener(e,t,s){e.addEventListener?e.addEventListener(t,s):e.attachEvent("on"+t,s)}function inArray(e,t){for(var s=t.length,a=0;s>a;a++)if(t[a]==e)return!0}function returnCleanTag(e){return cleanString=e.replace(/\s/g,""),cleanString=cleanString.replace(/[^\w\d\s]/,""),cleanString.toLowerCase()}function toggleSelectedTag(e){if(inArray(e,selectedTags)){var t=selectedTags.indexOf(e);selectedTags.splice(t,1)}else selectedTags.push(e)}function renderProjects(){each($(".projects span"),function(e,t){removeClass(e,"selected");for(var t=selectedTags.length-1;t>=0;t--)if(hasClass(e,selectedTags[t])){addClass(e,"selected");break}})}function resizeCanvasBackground(){sidebarWidth=$(".sidebar")[0].offsetWidth,sidebarHeight=$(".sidebar")[0].offsetHeight,ctx.canvas.width=sidebarWidth,ctx.canvas.height=sidebarHeight-2,ctx.translate(.5,.5)}function drawCanvasBackground(){var e=$(".sidebar")[0].offsetLeft,t=$(".sidebar")[0].offsetTop,s=document.documentElement,a=document.body,n=s&&s.scrollLeft||a&&a.scrollLeft||0,c=s&&s.scrollTop||a&&a.scrollTop||0;0>c&&(c=0),each($(".projects .project"),function(s){var a=s.offsetLeft,r=s.offsetTop,i=s.offsetWidth-1,d=s.offsetHeight-1;a+i>e&&e+sidebarWidth>a&&r+d+c>t&&t+sidebarHeight>r-c&&(newX=a-e-n-1,newY=r-t-c-1,ctx.setLineDash?(ctx.beginPath(),ctx.setLineDash([5,5]),ctx.rect(newX,newY,i,d),ctx.strokeStyle="#5E5E5E",ctx.stroke()):(ctx.fillStyle="rgb(245, 245, 245)",ctx.fillRect(newX,newY,i,d)))})}function updateCanvas(){ctx.clearRect(0,0,sidebarWidth,sidebarHeight),resizeCanvasBackground(),drawCanvasBackground()}var selectedTags=["featured"];each($(".tag-button"),function(e){addEventListener(e,"click",function(){console.log(returnCleanTag(e.innerText)),toggleSelectedTag(returnCleanTag(e.innerText)),hasClass(e,"selected")?removeClass(e,"selected"):addClass(e,"selected"),renderProjects()})}),renderProjects();var ctx=document.getElementById("sidebar-canvas").getContext("2d"),sidebarWidth,sidebarHeight;addEventListener(document,"scroll",updateCanvas),addEventListener(document,"mousemove",updateCanvas),window.onresize=updateCanvas,updateCanvas(),setTimeout(function(){updateCanvas()},50);