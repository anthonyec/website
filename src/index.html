{{>header}}

{{#functions.concatCSS}}
  <link rel="stylesheet" href="/assets/css/home.css" />
  <link rel="stylesheet" href="/assets/css/chip.css" />
  <link rel="stylesheet" href="/assets/css/card.css" />
  <link rel="stylesheet" href="/assets/css/button.css" />
  <link rel="stylesheet" href="/assets/css/panel.css" />
  <link rel="stylesheet" href="/assets/css/handy.css" />
{{/functions.concatCSS}}

<main class="home">
  <div class="home__section home__section--list">
    {{>logo}}

    <a href="https://www.linkedin.com/in/anthonyec/" target="_blank" class="chip chip--linkedin">
      <img src="/assets/images/linkedin.svg" alt="" class="chip__icon">
      LinkedIn
    </a>

    <a href="https://x.com/anthonyec" target="_blank" class="chip chip--x">
      <img src="/assets/images/x.svg" alt="" class="chip__icon">
      @anthonyec
    </a>

    <div class="home__chip-group">
      <a href="https://bsky.app/profile/anthony.ec" target="_blank" class="chip chip--icon-only chip--bluesky">
        <img src="/assets/images/bluesky.svg" alt="" class="chip__icon" style="height: 22px">
      </a>

      <a href="mailto:anthonycossins@gmail.com" target="_blank" class="chip chip--icon-only chip--email">
        <img src="/assets/images/email.svg" alt="" class="chip__icon" style="height: 20px">
      </a>
    </div>
  </div>

  <section class="home__section home__section--list home__section--small-gap-1">
    <div class="panel">
      <div class="panel__icon">
        <img src="/assets/images/info.svg" alt="">
      </div>

      <div class="panel__content">
        <p>Hello! My name is <strong>Anthony Cossins</strong>.</p>
  
        <p>I'm a <strong>senior software engineer</strong> who specializes in implementing user-facing features for web applications and interactive experiences.</p>
  
        <p>I've been doing this for over a decade and have previously worked at&nbsp;<strong>Framer</strong>, the <strong>BBC</strong> and <strong>Signal-Noise</strong>.</p>
        
        <div class="panel__footer">
          <a href="mailto:anthonycossins@gmail.com" class="button button--full-width button--green">
            <svg viewBox="0 0 83.999998 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="Group" fill="currentColor" fill-rule="nonzero">
                        <path d="M29,0 C27.892,0 27,0.89199 27,2 L27,8 L57,8 L57,2 C57,0.89199 56.107998,0 55,0 L29,0 Z M7,12 C3.122,12 0,15.12199 0,19 L0,65 C0,68.87801 3.122,72 7,72 L12.9688,72 L12.9688,12 L7,12 Z M16.9688,12 L16.9688,72 L67.031298,72 L67.031298,12 L16.9688,12 Z M71.031298,12 L71.031298,72 L76.999998,72 C80.877998,72 83.999998,68.87801 83.999998,65 L83.999998,19 C83.999998,15.122 80.877998,12 76.999998,12 L71.031298,12 Z" id="Shape"></path>
                    </g>
                </g>
            </svg>

            Open to freelance work
          </a>
  
          <a href="/cv" class="button button--full-width">
            <svg viewBox="0 0 91.428906 91.425" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <g id="CV" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="Artboard" transform="translate(-27.286, -9)" fill="currentColor" fill-rule="nonzero">
                        <g id="noun-cv-8135682" transform="translate(23, 9)">
                            <path d="M81.43,0 L18.571,0 C10.6999,0 4.286,6.4141 4.286,14.285 L4.286,77.14 C4.286,85.0111 10.7001,91.425 18.571,91.425 L81.426,91.425 C89.2971,91.425 95.711,85.0109 95.711,77.14 L95.714906,14.285 C95.714906,6.4139 89.300806,0 81.429906,0 L81.43,0 Z M21.43,18.57 C21.43,16.9997 22.7152,15.7145 24.2855,15.7145 L38.5705,15.7145 C40.1408,15.7145 41.426,16.9997 41.426,18.57 L41.426,32.855 C41.426,34.4253 40.1408,35.7105 38.5705,35.7105 L24.2855,35.7105 C22.7152,35.7105 21.43,34.4253 21.43,32.855 L21.43,18.57 Z M75.715,72.859 L24.285,72.859 C22.7147,72.859 21.4295,71.5738 21.4295,70.0035 C21.4295,68.4332 22.7147,67.148 24.285,67.148 L75.715,67.148 C77.2853,67.148 78.5705,68.4332 78.5705,70.0035 C78.5705,71.5738 77.2853,72.859 75.715,72.859 Z M75.715,52.859 L24.285,52.859 C22.7147,52.859 21.4295,51.5738 21.4295,50.0035 C21.4295,48.4332 22.7147,47.148 24.285,47.148 L75.715,47.148 C77.2853,47.148 78.5705,48.4332 78.5705,50.0035 C78.5705,51.5738 77.2853,52.859 75.715,52.859 Z M75.715,32.859 L52.86,32.859 C51.2897,32.859 50.0045,31.5738 50.0045,30.0035 C50.0045,28.4332 51.2897,27.148 52.86,27.148 L75.715,27.148 C77.2853,27.148 78.5705,28.4332 78.5705,30.0035 C78.5705,31.5738 77.2853,32.859 75.715,32.859 Z M35.715,29.9996 L27.1447,29.9996 L27.1447,21.4293 L35.715,21.4293 L35.715,29.9996 Z" id="Shape"></path>
                        </g>
                    </g>
                </g>
            </svg>


            Download CV
          </a>
        </div>
      </div>

    </div>
  </section>
  
  <section class="home__section home__section--grid" id="projects">
    <article class="card">
      <a href="/posts/little-camera-preview" class="card__link"></a>
      
      <div class="card__image">
        <img class="card__image" src="/assets/images/little_camera_preview.jpg" alt="" style="background-color: #1C202B; aspect-ratio: 265 / 170;">
      </div>
      <h2 class="card__title">Little Camera Preview</h2>
    </article>
  
    <article class="card">
      <a href="https://saladroom.net/?ref=anthonycossins" target="_blank" class="card__link"></a>
      <div class="card__image">
        <img class="card__image" src="/assets/images/salad_room.jpg" alt="" style="background-color: #00C657; aspect-ratio: 265 / 170;">
      </div>
      <h2 class="card__title">Salad Room</h2>
    </article>

    <article class="card">
      <a href="https://chrome.google.com/webstore/detail/powerlet/ofecodkcadbenmiknnidnfepbblapgkn" target="_blank" class="card__link"></a>
      <div class="card__image">
        <img class="card__image" src="/assets/images/powerlet.jpg" alt="" style="background-color: #DA6396; aspect-ratio: 265 / 170;">
      </div>
      <h2 class="card__title">Powerlet</h2>
    </article>
  </section>

  <section class="home__section home__section--grid home__section--wide">
    <article class="card card--big card--green">
      <a href="/posts/futurechoice" class="card__link"></a>
      <div class="card__image">
        <img class="card__image" src="/assets/images/future_choice.webp" alt="Picture of four podiums and a big wide screen" loading="lazy" style="background-color: #310167; aspect-ratio: 574.2 / 364.8;">
        <video data-src="/assets/videos/s_and_p.webm" autoplay muted loop playsinline preload="none"></video>
      </div>
      <h2 class="card__title">First commercial Godot project</h2> 
    </article>
  
    <article class="card card--big card--green">
      <a href="/posts/filedeck" class="card__link"></a>
      <div class="card__image">
        <img class="card__image" src="/assets/images/filedeck.png" alt="Picture of four podiums and a big wide screen" loading="lazy" style="background-color: #310167; aspect-ratio: 574.2 / 364.8;">
        <video data-src="/assets/videos/filedeck.webm" autoplay muted loop playsinline preload="none"></video>
      </div>
      <h2 class="card__title">File browser for the Steam Deck</h2> 
    </article>
  </section>

  <section class="home__section home__section--grid home__section--small-gap-2">
    <div class="home__card-group">
      <article class="card card--green">
        <a href="https://www.youtube.com/watch?v=xY26Fbu2ZEg" target="_blank" class="card__link"></a>
        <div class="card__image">
          <img class="card__image" src="/assets/images/talk.webp" alt="Video still from my Godot conference talk" loading="lazy" style="background-color: #02192E; aspect-ratio: 16 / 9;">
          <video data-src="/assets/videos/talk_clip.mp4" autoplay muted loop playsinline preload="none"></video>
          <div class="card__image-timestamp">6:30</div>
          <button class="card__sound-button" title="Unmute">
            <img src="/assets/images/muted.svg" alt="Muted">
          </button>
        </div>
        <h2 class="card__title">Godot Conference 2024 Lighting&nbsp;Talk</h2>
      </article>
      
      <article class="card card--green">
        <a href="https://www.youtube.com/watch?v=LgAApm9fCcI" target="_blank" class="card__link"></a>
        <div class="card__image">
          <img src="/assets/images/garden_station.webp" alt="Video still from my Godot conference talk" loading="lazy" style="background-color: #FFFFFF; aspect-ratio: 16 / 9;">
          <video data-src="/assets/videos/garden_station_clip.mp4" autoplay muted loop playsinline preload="none"></video>
          <div class="card__image-timestamp">1:03:15</div>
          <button class="card__sound-button" title="Unmute">
            <img src="/assets/images/muted.svg" alt="Muted">
          </button>
        </div>
        <h2 class="card__title">One month of full time game&nbsp;making</h2>
      </article>
    </div>
  </section>

  <section class="home__section home__section--list" id="posts">
    {{#collections.posts}}
      {{^hidden}}
        <a href="{{url}}" class="chip chip--text-only {{#thumbnail}}chip--has-image{{/thumbnail}}">
          {{title}}
          
          {{#thumbnail}}
            <img src="{{url}}/{{thumbnail}}" class="chip__image" loading="lazy">
          {{/thumbnail}}
        </a>
      {{/hidden}}
    {{/collections.posts}}
  </section>
  
  <footer class="home__footer">
    <div class="home__footer-circle">
      <span>
        This site was <a href="https://github.com/anthonyec/staticbuild">built with a tool</a> that's not made for you!
      </span>
    </div>
  </footer>
</main>

{{#extractScript}}
  <script>
    function showVideo(video) {
      if (!(video instanceof HTMLVideoElement)) return
      
      if (!video.src) {
        video.src = video.getAttribute("data-src")
      }

      video.play()
      video.volume = 1.0

      try {
        plausible('hover_video')
      } catch (err) {
        console.log("Event failed:", err)
      }
    }

    function hideVideo(video) {
      if (!(video instanceof HTMLVideoElement)) return

      video.pause()
    }

    function toggleMute(video, soundButton) {
      if (!(video instanceof HTMLVideoElement)) return
      if (!(soundButton instanceof HTMLButtonElement)) return

      const icon = soundButton.querySelector("img")
      if (!(icon instanceof HTMLImageElement)) return

      video.muted = !video.muted

      soundButton.title = video.muted ? "Unmute" : "Mute"
      icon.src = video.muted ? "assets/images/muted.svg" : "assets/images/unmuted.svg"

      try {
        plausible('unmuted_video')
      } catch (err) {
        console.log("Event failed:", err)
      }
    }

    const cards = document.querySelectorAll('.card')

    for (const card of cards) {
      const video = card.querySelector("video")
      if (!video) continue

      card.addEventListener("mouseover", () => showVideo(video))
      card.addEventListener("mouseout", () => hideVideo(video))
      card.addEventListener("focusin", () => showVideo(video))
      card.addEventListener("focusout", () => hideVideo(video))

      const soundButton = card.querySelector(".card__sound-button")
      if (!soundButton) continue

      soundButton.addEventListener("click", () => toggleMute(video, soundButton))
    }
  </script>
{{/extractScript}}

{{>footer}}
